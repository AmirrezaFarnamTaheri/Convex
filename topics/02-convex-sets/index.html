<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>02. Convex Sets — Convex Optimization</title>
  <link rel="stylesheet" href="../../static/css/styles.css" />
  <link rel="stylesheet" href="/static/css/modern-widgets.css" />
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <img src="../../static/assets/branding/logo.svg" class="logo" alt="logo" />
        <a href="../../index.html" style="text-decoration:none;color:inherit">
          <strong>Convex Optimization</strong>
        </a>
      </div>
      <nav class="nav">
        <a href="../../index.html#sessions">All Lectures</a>
        <a href="../01-introduction/index.html">← Previous: Introduction</a>
        <a href="../03-convex-functions/index.html">Next: Convex Functions →</a>
        <a href="#readings">Readings</a>
      </nav>
    </div>
  </header>

  <main class="container" style="padding: 32px 0 60px;">
    <article class="card" style="margin-bottom: 32px;">
      <h1 style="margin-top: 0;">02. The Geometry of Feasibility: Convex Sets</h1>
      <div class="meta">
        Date: 2025-10-28 · Duration: 90 min · Tags: sets, geometry, foundational, theory
      </div>
      <section style="margin-top: 16px;">
        <p><strong>Overview:</strong> This lecture builds the geometric foundation upon which all of convex optimization rests. We move from the abstract notion of a "convex problem" in <a href="../01-introduction/index.html">Lecture 01</a> to the tangible concept of a "convex set." We rigorously define affine and convex sets, convex combinations, and convex hulls. The lecture features a "grand tour" of canonical convex sets that appear in nearly every application: hyperplanes, halfspaces, balls, ellipsoids, polyhedra, and the cones used in advanced modeling (norm cones and the PSD cone). We establish a powerful toolkit of operations that preserve convexity, enabling us to construct complex convex sets from simple ones. Finally, we delve into the deep theory of separating and supporting hyperplanes, which provide the geometric foundation for duality theory, optimality conditions, and algorithms.</p>
        <p><strong>Prerequisites:</strong> <a href="../00-linear-algebra-primer/index.html">Lecture 00: Linear Algebra Primer</a> (especially vector spaces, norms, and PSD matrices) and <a href="../01-introduction/index.html">Lecture 01: Introduction</a> (definition of convex problems).</p>
        <p><strong>Scope Guard:</strong> No function-level convexity here (that's Lecture 03: Convex Functions), no duality or KKT conditions (that's later), and no algorithms. This is purely about <i>sets</i>—their definitions, properties, and geometric structure.</p>
        <p><strong>Connections:</strong> The PSD cone introduced here directly extends the matrix theory from <a href="../00-linear-algebra-primer/index.html">Lecture 00</a>. The feasible sets of LPs, QPs, SOCPs, and SDPs from <a href="../01-introduction/index.html">Lecture 01</a> are all convex sets by the theory we develop here. The separating hyperplane theorem is the geometric foundation for duality (Lecture 05) and KKT conditions (Lecture 06).</p>
      </section>
    </article>

    <section class="card" style="margin-bottom: 32px;">
      <h2>Learning Objectives</h2>
      <p>After this lecture, you will be able to:</p>
      <ul style="line-height: 1.8;">
        <li><b>Define Affine and Convex Sets:</b> Articulate precise definitions and provide geometric interpretations for affine sets, convex sets, convex combinations, and convex hulls.</li>
        <li><b>Recognize Canonical Convex Sets:</b> Identify by sight hyperplanes, halfspaces, norm balls, ellipsoids, polyhedra, second-order cones, and the PSD cone $\mathbb{S}^n_+$.</li>
        <li><b>Apply Convexity-Preserving Operations:</b> Prove complex sets are convex by building them from simpler convex sets using intersection, affine mapping, and Minkowski sum.</li>
        <li><b>Use the Separating Hyperplane Theorem:</b> State the theorem, sketch its proof, and explain why it's the geometric foundation for duality and optimality conditions.</li>
        <li><b>Work with Dual Cones:</b> Define dual cones, prove self-duality of important cones ($\mathbb{R}^n_+$, second-order cone, $\mathbb{S}^n_+$), and use them in modeling.</li>
        <li><b>Verify Convexity in Practice:</b> Given a set definition, determine whether it's convex using first principles or composition rules.</li>
      </ul>
    </section>

    <!-- TABLE OF CONTENTS -->
    <section class="card" style="margin-bottom: 32px; background: var(--panel);">
      <h2>Table of Contents</h2>
      <ol style="line-height: 1.8;">
        <li><a href="#section-1">The Building Blocks: Affine and Convex Sets</a></li>
        <li><a href="#section-2">Canonical Convex Sets: A Visual Dictionary</a></li>
        <li><a href="#section-3">The Algebra of Convexity: Operations that Preserve Convexity</a></li>
        <li><a href="#section-4">The Deep Geometry: Separating and Supporting Hyperplanes</a></li>
        <li><a href="#section-5">Dual Cones</a></li>
        <li><a href="#section-6">Problem Set with Solutions</a></li>
        <li><a href="#section-7">Pocket Card Summary</a></li>
      </ol>
    </section>

    <!-- SECTION 1: BUILDING BLOCKS -->
    <section class="card" id="section-1" style="margin-bottom: 32px;">
        <h2>1. The Building Blocks: Affine and Convex Sets</h2>
        <p>The geometry of feasible sets in optimization problems is built upon two fundamental ways of combining points: affine combinations and convex combinations.</p>
        <ul>
            <li>An <b>affine combination</b> of points $x_1, \dots, x_k$ is a weighted sum $\sum_{i=1}^k \theta_i x_i$ where the weights sum to one, $\sum \theta_i = 1$. These combinations describe objects like lines and planes.</li>
            <li>A <b>convex combination</b> is a special type of affine combination where the weights are also non-negative, $\theta_i \ge 0$. These combinations describe "filled-in" objects like line segments and triangles.</li>
        </ul>

        <h4>Affine Sets</h4>
        <p>A set is <b>affine</b> if, for any two points in the set, the entire line passing through them is also in the set. Formally, for any $x_1, x_2 \in C$ and any real number $\theta$, the point $\theta x_1 + (1-\theta) x_2$ is also in $C$.
        <br>A key result is that every affine set can be described as a linear subspace shifted by a vector. For instance, the set of solutions to a system of linear equations, $\{x \mid Ax=b\}$, is an affine set.
        </p>

        <h4>Convex Sets</h4>
        <p>A set is <b>convex</b> if the line segment connecting any two points in the set is entirely contained within the set. This is the crucial property that prevents a set from having any "dents" or "holes."</p>

        <div style="margin: 24px 0; text-align: center;">
          <img src="./assets/convex-set-definition.svg" alt="Visual definition of convex and non-convex sets" style="max-width: 100%; height: auto; border: 1px solid var(--border); border-radius: 8px;" />
          <p style="margin-top: 8px; font-size: 0.9em; color: var(--text-muted);"><i>Figure 1.1:</i> In a convex set, the line segment connecting any two points is fully contained in the set. This is not true for a non-convex set.</p>
        </div>

        <h4>Convex Hulls</h4>
        <p>The <b>convex hull</b> of a set of points, written as $\mathrm{conv}(S)$, is the set of all possible convex combinations of those points. It can be visualized as the shape formed by stretching a rubber band around the outermost points of the set. The convex hull is, by construction, the smallest convex set that contains the original set $S$.</p>

        <div style="margin: 24px 0; text-align: center;">
          <img src="./assets/convex-hull.svg" alt="Illustration of a convex hull" style="max-width: 100%; height: auto; border: 1px solid var(--border); border-radius: 8px;" />
          <p style="margin-top: 8px; font-size: 0.9em; color: var(--text-muted);"><i>Figure 1.2:</i> The convex hull of a set of points is the shape enclosing all of them.</p>
        </div>

        <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
          <h3 style="margin-top: 0;">Interactive Demo: Convex Set Checker</h3>
          <p>To build intuition, this widget lets you draw a 2D shape. The tool then tests for convexity by picking random pairs of points and checking if the line segment between them stays inside your shape. This provides a direct, hands-on feel for the definition.</p>
          <div id="widget-convex-set-checker" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
        </div>
    </section>

    <!-- SECTION 2: CANONICAL CONVEX SETS -->
    <section class="card" id="section-2" style="margin-bottom: 32px;">
      <h2>2. Canonical Convex Sets: A Visual Dictionary</h2>
      <p>The following sets are the fundamental building blocks you will encounter in almost every optimization model. Recognizing them is a critical skill.</p>

        <h4>Hyperplanes and Halfspaces</h4>
        <p>A <b>hyperplane</b> is the set $\{x \mid a^\top x = b\}$ for $a \neq 0$. It's an affine, and therefore convex, set. A <b>halfspace</b> is the set $\{x \mid a^\top x \le b\}$, which is convex. Hyperplanes divide the space in two; halfspaces are everything on one side.</p>

        <h4>Ellipsoids</h4>
        <p>An <b>ellipsoid</b> is a set of the form $\mathcal{E} = \{x \mid (x-x_c)^\top P^{-1} (x-x_c) \le 1\}$ where $P$ is a symmetric positive definite matrix ($P \succ 0$). It can be seen as the result of stretching and rotating a Euclidean ball. Ellipsoids are convex, a fact we will prove shortly using our toolkit of convexity-preserving operations.</p>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Widget: Ellipsoid Explorer</h3>
        <p>Manipulate the center $x_c$ and the matrix $P$ to see how an ellipsoid is defined. Observe how the eigenvalues and eigenvectors of $P$ correspond to the lengths and directions of the ellipsoid's principal axes. This provides a direct link between the algebraic definition and the geometric shape.</p>
        <div id="widget-ellipsoid-explorer" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>

        <h4>Polyhedra</h4>
        <p>A <b>polyhedron</b> is the solution set of a finite number of linear equalities and inequalities, $\mathcal{P} = \{x \mid Ax \preceq b, Cx=d\}$. Since it's the intersection of halfspaces and hyperplanes (which are convex), a polyhedron is always convex. Bounded polyhedra are called polytopes. This class includes common shapes like boxes, simplices, and any feasible set of a Linear Program.</p>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Widget: Polyhedron Visualizer</h3>
        <p>This tool allows you to build a 2D polyhedron by adding or modifying linear inequalities of the form $a_i^\top x \le b_i$. See in real-time how each new constraint "cuts away" a part of the space to form the final feasible region. This is the geometry of Linear Programming.</p>
        <div id="widget-polyhedron-visualizer" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>

        <h4>Cones</h4>
        <p>A set $K$ is a <b>cone</b> if for every $x \in K$ and $\theta \ge 0$, we have $\theta x \in K$. A <b>convex cone</b> is a cone that is also a convex set. Important examples include:
        <ul>
            <li><b>The Norm Cone:</b> Given a norm $\|\cdot\|$, the set $\{(x,t) \mid \|x\| \le t\}$ is a convex cone. The most important instance is the <b>second-order cone</b> (or Lorentz cone), where the norm is the Euclidean norm.</li>
            <li><b>The Positive Semidefinite (PSD) Cone ($\mathbb{S}^n_+$):</b> The set of all symmetric $n \times n$ matrices that are positive semidefinite. This is a crucial cone for advanced modeling, especially in control theory and combinatorial optimization via SDPs.</li>
        </ul>
        </p>
    </section>

    <!-- SECTION 3: OPERATIONS -->
    <section class="card" id="section-3" style="margin-bottom: 32px;">
        <h2>3. The Algebra of Convexity: Operations that Preserve Convexity</h2>
        <p>Proving that a set is convex from the first-principles definition can be tedious. A far more powerful and common approach is to construct a complex set from simpler sets that are known to be convex, using operations that are guaranteed to preserve convexity.</p>

        <h4>Intersection</h4>
        <p>The intersection of any collection of convex sets (finite or infinite) is convex.
        <br><b>Proof:</b> Let $C = \cap_{i \in I} C_i$, where each $C_i$ is convex. Consider any two points $x, y \in C$. By the definition of intersection, $x$ and $y$ belong to every set $C_i$. Since each $C_i$ is convex, the line segment $\theta x + (1-\theta)y$ (for $\theta \in [0,1]$) must be in every $C_i$. Therefore, the segment lies in their intersection, $C$. Thus, $C$ is convex.</p>

        <h4>Affine Functions</h4>
        <p>Applying an affine function $f(x) = Ax+b$ to a convex set preserves convexity.
        <ul>
            <li><b>Image:</b> If $C$ is a convex set, then its image $f(C) = \{Ax+b \mid x \in C\}$ is convex.</li>
            <li><b>Preimage:</b> If $D$ is a convex set, then its preimage $f^{-1}(D) = \{x \mid Ax+b \in D\}$ is convex.</li>
        </ul>
        <b>Example Proof (Preimage):</b> Take two points $x_1, x_2$ in the preimage. This means $f(x_1) \in D$ and $f(x_2) \in D$. Since $D$ is convex, the segment $\theta f(x_1) + (1-\theta)f(x_2)$ is in $D$. Because $f$ is affine, this segment can be rewritten as $f(\theta x_1 + (1-\theta)x_2)$. Since this point's image is in $D$, the point itself, $\theta x_1 + (1-\theta)x_2$, must be in the preimage.
        <br><b>Application:</b> We can now easily prove that an <b>ellipsoid</b> is convex. An ellipsoid is the set $\mathcal{E} = \{x \mid (x-x_c)^\top P^{-1} (x-x_c) \le 1\}$. This can be rewritten as $\mathcal{E} = \{x \mid \|P^{-1/2}(x-x_c)\|_2 \le 1\}$. This is precisely the preimage of the unit Euclidean ball (which is convex) under the affine mapping $f(x) = P^{-1/2}(x-x_c)$. Since the preimage of a convex set under an affine map is convex, the ellipsoid is convex.
        </p>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Widget: Convexity-Preserving Operations Builder</h3>
        <p>This tool lets you see these abstract rules in action. Start with simple, pre-defined convex sets like a square and a disk. Apply operations like intersection, affine transformation (scaling, rotation, translation), and Minkowski sum to see how they combine to form new, more complex convex sets.</p>
        <div id="widget-operations-builder" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>
    </section>

    <!-- SECTION 4: SEPARATING HYPERPLANES -->
    <section class="card" id="section-4" style="margin-bottom: 32px;">
        <h2>4. The Deep Geometry: Separating and Supporting Hyperplanes</h2>
        <p>The theorems in this section are among the most important in optimization. They establish that convex sets, unlike non-convex ones, have a clean geometric structure that allows them to be neatly "separated" or "supported" by hyperplanes. This is the geometric basis for duality theory and optimality conditions.</p>

        <h4>The Separating Hyperplane Theorem</h4>
        <p>The theorem states that any two disjoint, non-empty convex sets can be separated by a hyperplane. In other words, if you have two convex shapes that do not overlap, you can always draw a straight line (or plane in higher dimensions) between them.</p>

        <div style="margin: 24px 0; text-align: center;">
          <img src="./assets/separating-hyperplane.svg" alt="Illustration of the Separating Hyperplane Theorem" style="max-width: 100%; height: auto; border: 1px solid var(--border); border-radius: 8px;" />
          <p style="margin-top: 8px; font-size: 0.9em; color: var(--text-muted);"><i>Figure 4.1:</i> For two disjoint convex sets C and D, a hyperplane can be found that leaves one set on each side.</p>
        </div>

        <div class="proof" style="margin: 24px 0; padding: 16px; background: #f8f9fa; border-left: 4px solid var(--brand); border-radius: 4px;">
            <h4>A More Detailed Look at the Proof</h4>
            <ol>
                <li><strong>The Core Idea:</strong> The proof hinges on finding the two closest points between the sets and constructing a hyperplane perpendicular to the line segment connecting them. For simplicity, let's assume the sets C and D are closed.</li>
                <li><strong>Finding the Closest Points:</strong> Let's find points $c \in C$ and $d \in D$ that minimize the distance $\|c-d\|_2$. Because the sets are convex and closed, such a pair of points is guaranteed to exist and be unique.</li>
                <li><strong>Constructing the Hyperplane:</strong> The separating hyperplane is defined by the vector $a = d - c$. This vector represents the direction of the shortest line segment between the sets. The hyperplane is then defined as all points $x$ satisfying $a^\top x = b$, where the offset $b$ is chosen to be halfway between the endpoints: $b = \frac{1}{2}(a^\top d + a^\top c)$.</li>
                <li><strong>Verification:</strong> One can then show that for any point $x \in C$, we have $a^\top x \le b$, and for any point $y \in D$, we have $a^\top y \ge b$. This confirms that the hyperplane correctly separates the two sets.</li>
            </ol>
        </div>

        <h4>The Supporting Hyperplane Theorem</h4>
        <p>A direct consequence of the separation theorem is the Supporting Hyperplane Theorem. It states that for any convex set, at any point on its boundary, we can draw a hyperplane that "supports" the set. This means the hyperplane touches the boundary point and the entire set lies on one side of it.</p>

        <div style="margin: 24px 0; text-align: center;">
          <img src="./assets/supporting-hyperplane.svg" alt="Illustration of the Supporting Hyperplane Theorem" style="max-width: 100%; height: auto; border: 1px solid var(--border); border-radius: 8px;" />
          <p style="margin-top: 8px; font-size: 0.9em; color: var(--text-muted);"><i>Figure 4.2:</i> At any boundary point $x_0$, a hyperplane can be found that contains $x_0$ and keeps the entire set C to one side.</p>
        </div>

        <p>This theorem is fundamental to forming optimality conditions in constrained optimization problems, as it provides a geometric way to characterize the boundary of a feasible set.</p>

        <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
          <h3 style="margin-top: 0;">Widget: Separating Hyperplane Visualizer</h3>
          <p>This widget brings the theorem to life. You can place two (disjoint) convex sets in a 2D plane. The tool will then computationally find and draw the separating hyperplane between them. Experiment with moving the sets closer together or changing their shapes to see how the separating plane adjusts.</p>
          <div id="widget-separating-hyperplane" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
        </div>
    </section>

    <!-- SECTION 5: DUAL CONES -->
    <section class="card" id="section-5" style="margin-bottom: 32px;">
        <h2>5. Dual Cones</h2>
        <p>The concept of duality is central to optimization. The geometric starting point for this is the dual cone. The <b>dual cone</b> of a cone $K$ is defined as the set of all vectors that make a non-negative inner product with every vector in $K$:
        $$ K^* = \{y \mid y^\top x \ge 0 \text{ for all } x \in K\} $$
        The dual cone is always a closed, convex cone, even if the original cone $K$ was not.
        </p>

        <h4>Self-Dual Cones</h4>
        <p>Some of the most important cones in optimization are <b>self-dual</b>, meaning $K^* = K$.
        <ul>
            <li><b>The non-negative orthant $\mathbb{R}^n_+$ is self-dual.</b>
            <br><b>Proof:</b> We need to show that $y^\top x \ge 0$ for all $x \ge 0$ if and only if $y \ge 0$.
            ($\Leftarrow$) If $y \ge 0$ and $x \ge 0$, then $y^\top x = \sum_i y_i x_i$ is a sum of non-negative terms, so it is non-negative.
            ($\Rightarrow$) Suppose $y$ is not in $\mathbb{R}^n_+$. Then at least one component $y_k < 0$. We can choose a vector $x = e_k$ (the $k$-th standard basis vector), which is in $\mathbb{R}^n_+$. Then $y^\top x = y_k < 0$. This violates the condition for $y$ being in the dual cone. Therefore, $y$ must be in $\mathbb{R}^n_+$.</li>
            <li><b>The second-order cone is self-dual.</b></li>
            <li><b>The positive semidefinite cone $\mathbb{S}^n_+$ is self-dual.</b></li>
        </ul>
        </p>
    </section>

    <section class="card" id="readings" style="margin-bottom: 32px;">
      <h2>Readings & Resources</h2>
      <ul class="link-list">
        <li><strong>Required Reading:</strong> Boyd & Vandenberghe, <em>Convex Optimization</em>, Chapter 2. This chapter provides a comprehensive and rigorous treatment of all topics discussed here.</li>
      </ul>
    </section>

    <!-- SECTION 6: PROBLEM SET -->
    <section class="card" id="section-6" style="margin-bottom: 32px;">
      <h2>Problem Set with Solutions</h2>
      <p>Test your understanding of the geometry of convex sets. These problems cover all major topics from this lecture.</p>
      <ol style="line-height: 2;">
        <li><b>Set Properties:</b> Show that the set of points closer to a given point $x_0$ than a given set $S \subseteq \mathbb{R}^n$, defined as $C = \{x \mid \|x-x_0\|_2 \le \|x-y\|_2 \text{ for all } y \in S\}$, is convex.</li>
        <li><b>Operations:</b> Prove that the intersection of a convex set and an affine set is convex using the basic definitions.</li>
        <li><b>Dual Cones:</b> What is the dual cone of the set of all vectors with non-positive components, $K = \mathbb{R}^n_-$? Provide a proof.</li>
      </ol>
      <hr style="margin: 24px 0;">
      <h3>Solutions</h3>
      <ol>
        <li><b>Solution (Closer Points):</b>
            <p>The problem asks us to prove that the set $C = \{x \mid \|x-x_0\|_2 \le \|x-y\|_2 \text{ for all } y \in S\}$ is convex. Let's analyze the defining inequality for a single, fixed $y \in S$.
            <br>The condition $\|x-x_0\|_2 \le \|x-y\|_2$ is equivalent to its square, $\|x-x_0\|_2^2 \le \|x-y\|_2^2$. Expanding the squared norms gives:
            $$ (x-x_0)^\top(x-x_0) \le (x-y)^\top(x-y) $$
            $$ x^\top x - 2x_0^\top x + x_0^\top x_0 \le x^\top x - 2y^\top x + y^\top y $$
            We can cancel the $x^\top x$ term from both sides and rearrange to isolate terms involving $x$:
            $$ 2y^\top x - 2x_0^\top x \le y^\top y - x_0^\top x_0 $$
            $$ 2(y-x_0)^\top x \le \|y\|_2^2 - \|x_0\|_2^2 $$
            This is a linear inequality in $x$, of the form $a^\top x \le b$, where $a = 2(y-x_0)$ and $b = \|y\|_2^2 - \|x_0\|_2^2$. The set of points satisfying such an inequality is a halfspace.
            <br>The set $C$ is defined by the requirement that this inequality must hold for *all* $y \in S$. Therefore, $C$ is the intersection of a collection of halfspaces, one for each point in $S$:
            $$ C = \bigcap_{y \in S} \{x \mid 2(y-x_0)^\top x \le \|y\|_2^2 - \|x_0\|_2^2 \} $$
            Since every halfspace is a convex set, and the intersection of any number of convex sets is also convex, we conclude that the set $C$ is convex.
            </p>
        </li>
        <li><b>Solution (Intersection):</b>
            <p>We want to prove that the intersection of a convex set $C$ and an affine set $A$ is convex. Let their intersection be $S = C \cap A$. We will use the definition of convexity directly.
            <br>Take any two points $x_1$ and $x_2$ from the intersection $S$. This means that $x_1$ and $x_2$ are in both $C$ and $A$.
            <br>Consider a point on the line segment between them, $z = \theta x_1 + (1-\theta)x_2$ for any $\theta \in [0,1]$.
            <ul>
                <li>Because $C$ is a convex set, and $x_1, x_2 \in C$, the point $z$ must also be in $C$.</li>
                <li>Because $A$ is an affine set, and $x_1, x_2 \in A$, the entire line through them must be in $A$. This includes the segment for $\theta \in [0,1]$, so $z$ must also be in $A$.</li>
            </ul>
            Since $z$ is in both $C$ and $A$, it must be in their intersection $S$. We have shown that the line segment between any two points in $S$ is also in $S$, which is the definition of a convex set. Therefore, $S$ is convex.
            </p>
        </li>
        <li><b>Solution (Dual Cone):</b>
            <p>The problem asks for the dual cone of $K = \mathbb{R}^n_-$, which is the set of all vectors whose components are non-positive.
            <br>The definition of the dual cone is $K^* = \{y \mid y^\top x \ge 0 \text{ for all } x \in K\}$. We will show that the dual cone of the non-positive orthant is itself, i.e., $K^* = \mathbb{R}^n_-$. To prove this, we must show inclusion in both directions.
            <br><b>Part 1: Show $\mathbb{R}^n_- \subseteq K^*$</b>
            <br>Let $y$ be any vector in $\mathbb{R}^n_-$ (meaning $y_i \le 0$ for all $i$) and let $x$ be any vector in $K$ (meaning $x_i \le 0$ for all $i$). Their inner product is:
            $$ y^\top x = \sum_{i=1}^n y_i x_i $$
            Each term in this sum, $y_i x_i$, is the product of two non-positive numbers, which is a non-negative number. The sum of non-negative numbers is non-negative, so $y^\top x \ge 0$.
            <br>This satisfies the condition for $y$ to be in the dual cone $K^*$. Since this holds for any $y \in \mathbb{R}^n_-$, we have shown that $\mathbb{R}^n_- \subseteq K^*$.
            <br><b>Part 2: Show $K^* \subseteq \mathbb{R}^n_-$</b>
            <br>We will use a proof by contradiction. Let $y$ be any vector in $K^*$. Assume that $y$ is *not* in $\mathbb{R}^n_-$. This assumption means there must be at least one component of $y$ that is strictly positive, say $y_k > 0$ for some index $k$.
            <br>Our goal is to find a vector $x \in K$ that violates the dual cone condition, $y^\top x \ge 0$. Let's choose the vector $x = -e_k$, where $e_k$ is the $k$-th standard basis vector. This vector $x$ is in $K$ because all its components are zero except for the $k$-th, which is -1.
            <br>Now, let's compute the inner product:
            $$ y^\top x = y_1(0) + \dots + y_k(-1) + \dots + y_n(0) = -y_k $$
            Since we assumed $y_k > 0$, the inner product is $-y_k < 0$.
            <br>This contradicts the fact that $y \in K^*$, which requires that $y^\top x \ge 0$ for *all* possible choices of $x \in K$. Therefore, our initial assumption must be false. The vector $y$ must be in $\mathbb{R}^n_-$.
            <br>Since we have shown both inclusions, we can conclude that $K^* = \mathbb{R}^n_-$.
            </p>
        </li>
      </ol>
    </section>

    <!-- SECTION 7: POCKET CARD SUMMARY -->
    <section class="card" id="section-7" style="margin-bottom: 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 24px; border-radius: 12px;">
      <h2 style="color: white; margin-top: 0;">Pocket Card Summary</h2>
      <p style="color: rgba(255,255,255,0.95);"><i>Print or save this quick reference for studying and problem-solving.</i></p>

      <div style="background: rgba(255,255,255,0.15); padding: 16px; border-radius: 8px; margin: 16px 0;">
        <h3 style="color: white; margin-top: 0;">Core Definitions</h3>
        <ul style="line-height: 1.8; color: rgba(255,255,255,0.95);">
          <li><b>Affine set:</b> Contains full line through any two points: $\theta x_1 + (1-\theta)x_2 \in C$ for all $\theta \in \mathbb{R}$</li>
          <li><b>Convex set:</b> Contains line segment: $\theta x_1 + (1-\theta)x_2 \in C$ for $\theta \in [0,1]$</li>
          <li><b>Convex combination:</b> $\sum_{i=1}^k \theta_i x_i$ where $\theta_i \ge 0$, $\sum \theta_i = 1$</li>
          <li><b>Convex hull:</b> $\mathrm{conv}(S)$ = smallest convex set containing $S$ = all convex combinations of points from $S$</li>
        </ul>
      </div>

      <div style="background: rgba(255,255,255,0.15); padding: 16px; border-radius: 8px; margin: 16px 0;">
        <h3 style="color: white; margin-top: 0;">Canonical Convex Sets</h3>
        <ul style="line-height: 1.8; color: rgba(255,255,255,0.95);">
          <li><b>Hyperplane:</b> $\{x \mid a^\top x = b\}$</li>
          <li><b>Halfspace:</b> $\{x \mid a^\top x \le b\}$</li>
          <li><b>Norm ball:</b> $\{x \mid \|x - x_c\| \le r\}$</li>
          <li><b>Ellipsoid:</b> $\{x \mid (x-x_c)^\top P^{-1}(x-x_c) \le 1\}$, $P \succ 0$</li>
          <li><b>Polyhedron:</b> $\{x \mid Ax \le b, Cx = d\}$</li>
          <li><b>Second-order cone:</b> $\{(x,t) \mid \|x\|_2 \le t\}$</li>
          <li><b>PSD cone:</b> $\mathbb{S}^n_+ = \{X \in \mathbb{S}^n \mid X \succeq 0\}$</li>
        </ul>
      </div>

      <div style="background: rgba(255,255,255,0.15); padding: 16px; border-radius: 8px; margin: 16px 0;">
        <h3 style="color: white; margin-top: 0;">Convexity-Preserving Operations</h3>
        <ul style="line-height: 1.8; color: rgba(255,255,255,0.95);">
          <li><b>Intersection:</b> $\bigcap_{i} C_i$ is convex if each $C_i$ is convex</li>
          <li><b>Affine image:</b> If $C$ convex, then $\{Ax + b \mid x \in C\}$ is convex</li>
          <li><b>Affine preimage:</b> If $D$ convex, then $\{x \mid Ax + b \in D\}$ is convex</li>
          <li><b>Scaling:</b> $\alpha C = \{\alpha x \mid x \in C\}$ is convex for $\alpha \in \mathbb{R}$</li>
          <li><b>Sum (Minkowski):</b> $C_1 + C_2 = \{x_1 + x_2 \mid x_1 \in C_1, x_2 \in C_2\}$ is convex</li>
        </ul>
      </div>

      <div style="background: rgba(255,255,255,0.15); padding: 16px; border-radius: 8px; margin: 16px 0;">
        <h3 style="color: white; margin-top: 0;">Key Theorems</h3>
        <ul style="line-height: 1.8; color: rgba(255,255,255,0.95);">
          <li><b>Separating Hyperplane:</b> If $C$ and $D$ are disjoint convex sets, there exists $a \neq 0$, $b$ such that $a^\top x \le b$ for all $x \in C$ and $a^\top y \ge b$ for all $y \in D$</li>
          <li><b>Supporting Hyperplane:</b> For any convex set $C$ and boundary point $x_0$, there exists $a \neq 0$ such that $a^\top x \le a^\top x_0$ for all $x \in C$</li>
        </ul>
      </div>

      <div style="background: rgba(255,255,255,0.15); padding: 16px; border-radius: 8px; margin: 16px 0;">
        <h3 style="color: white; margin-top: 0;">Dual Cones</h3>
        <ul style="line-height: 1.8; color: rgba(255,255,255,0.95);">
          <li><b>Definition:</b> $K^* = \{y \mid y^\top x \ge 0 \text{ for all } x \in K\}$</li>
          <li><b>Self-dual cones:</b> $\mathbb{R}^n_+$, second-order cone, $\mathbb{S}^n_+$</li>
          <li><b>Properties:</b> $K^*$ always closed and convex; $(K^*)^* = \overline{\mathrm{conv}(K)}$</li>
        </ul>
      </div>

      <div style="background: rgba(255,255,255,0.15); padding: 16px; border-radius: 8px; margin: 16px 0;">
        <h3 style="color: white; margin-top: 0;">Quick Verification Checklist</h3>
        <p style="color: rgba(255,255,255,0.95);"><b>To prove a set $C$ is convex:</b></p>
        <ol style="line-height: 1.8; color: rgba(255,255,255,0.95);">
          <li>Check if it's a canonical convex set (hyperplane, ball, polyhedron, etc.)</li>
          <li>Try to express it as an intersection of convex sets</li>
          <li>Try to express it as an affine preimage of a known convex set</li>
          <li>As a last resort, verify the definition directly: for any $x_1, x_2 \in C$ and $\theta \in [0,1]$, show $\theta x_1 + (1-\theta)x_2 \in C$</li>
        </ol>
      </div>

      <div style="text-align: center; margin-top: 24px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.3);">
        <p style="color: rgba(255,255,255,0.9); font-size: 0.9em; margin: 0;">
          <b>Master these concepts:</b> They are the geometric foundation for everything that follows in convex optimization.
        </p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p style="margin: 0;">© <span id="year"></span> Convex Optimization Course · <a href="../../README.md" style="color: var(--brand);">About</a></p>
    </div>
  </footer>

  <script defer src="https://cdn.jsdelivr.net/pyodide/v0.26.4/full/pyodide.js"></script>

  <script src="../../static/js/math-renderer.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <!-- Widget Loaders -->
  <script type="module">
    import { initConvexSetChecker } from './widgets/js/convex-set-checker.js';
    initConvexSetChecker('widget-convex-set-checker');
  </script>
  <script type="module">
    import { initEllipsoidExplorer } from './widgets/js/ellipsoid-explorer.js';
    initEllipsoidExplorer('widget-ellipsoid-explorer');
  </script>
  <script type="module">
    import { initPolyhedronVisualizer } from './widgets/js/polyhedron-visualizer.js';
    initPolyhedronVisualizer('widget-polyhedron-visualizer');
  </script>
  <script type="module">
    import { initSeparatingHyperplane } from './widgets/js/separating-hyperplane.js';
    initSeparatingHyperplane('widget-separating-hyperplane');
  </script>
  <script type="module">
    import { initOperationsBuilder } from './widgets/js/operations-builder.js';
    initOperationsBuilder('widget-operations-builder');
  </script>

  <!-- These widgets are not used in the enhanced version, so their loaders are commented out or removed -->
  <!--
  <script type="module">
    import { initConeGeometry } from './widgets/js/cone-geometry.js';
    initConeGeometry('widget-cone-geometry');
  </script>
  <script type="module">
    import { initOperationsComposer } from './widgets/js/operations-composer.js';
    initOperationsComposer('widget-operations-composer');
  </script>
  -->
</body>
</html>
