<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>02. Convex Sets — Convex Optimization</title>
  <link rel="stylesheet" href="../../static/css/styles.css" />
  <link rel="stylesheet" href="/static/css/modern-widgets.css" />
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <img src="../../static/assets/branding/logo.svg" class="logo" alt="logo" />
        <a href="../../index.html" style="text-decoration:none;color:inherit">
          <strong>Convex Optimization</strong>
        </a>
      </div>
      <nav class="nav">
        <a href="../../index.html#sessions">All Lectures</a>
        <a href="#widgets">Interactive</a>
        <a href="#readings">Readings</a>
      </nav>
    </div>
  </header>

  <main class="container" style="padding: 32px 0 60px;">
    <article class="card" style="margin-bottom: 32px;">
      <h1 style="margin-top: 0;">02. Convex Sets</h1>
      <div class="meta">
        Date: 2025-10-28 · Duration: 90 min · Tags: sets, geometry, foundational
      </div>
      <section style="margin-top: 16px;">
        <p><strong>Overview:</strong> This lecture builds the geometric foundation for convex optimization. We will define affine and convex sets, convex combinations, and convex hulls. We will explore canonical examples of convex sets, such as hyperplanes, balls, ellipsoids, and cones, and discuss operations that preserve convexity. Finally, we will cover key theoretical concepts like separating and supporting hyperplanes.</p>
        <p><strong>Prerequisites:</strong> 01-introduction</p>
      </section>
    </article>

    <section class="card" style="margin-bottom: 32px;">
      <h2>Learning Objectives</h2>
      <p>After this lecture, you should be able to:</p>
      <ul style="line-height: 1.8;">
        <li>Define and differentiate between affine, convex, and conic combinations.</li>
        <li>Identify common convex sets like polyhedra, norm balls, and the PSD cone.</li>
        <li>Apply operations that preserve convexity to prove that more complex sets are convex.</li>
        <li>Understand the geometric intuition behind the separating and supporting hyperplane theorems.</li>
        <li>Define dual cones and their basic properties.</li>
      </ul>
    </section>

    <section class="card" style="margin-bottom: 32px;">
        <h2>1. Affine and Convex Sets</h2>
        <p>A set $C$ is <b>affine</b> if the line through any two distinct points in $C$ lies in $C$. Formally, for any $x_1, x_2 \in C$ and $\theta \in \mathbb{R}$, we have $\theta x_1 + (1-\theta) x_2 \in C$.</p>
        <p>A set $C$ is <b>convex</b> if the line segment between any two points in $C$ lies in $C$. Formally, for any $x_1, x_2 \in C$ and $0 \le \theta \le 1$, we have $\theta x_1 + (1-\theta) x_2 \in C$. The <b>convex hull</b> of a set $S$, denoted $\mathrm{conv}(S)$, is the set of all convex combinations of points in $S$.</p>
    </section>

    <section class="card" style="margin-bottom: 32px;">
      <h2>2. Cones</h2>
      <p>A set $K$ is a <b>cone</b> if for every $x \in K$ and $\theta \ge 0$, we have $\theta x \in K$. A <b>convex cone</b> is a cone that is also a convex set. A cone $K$ is <b>proper</b> if it is convex, closed, solid, and pointed.</p>
    </section>

    <section class="card" style="margin-bottom: 32px;">
        <h2>3. Canonical Convex Sets</h2>
        <ul>
            <li><b>Hyperplanes and Halfspaces:</b> The sets $\{x \mid a^\top x = b\}$ and $\{x \mid a^\top x \le b\}$.</li>
            <li><b>Euclidean Ball:</b> $B(c,r) = \{x \mid \|x-c\|_2 \le r\}$.</li>
            <li><b>Ellipsoid:</b> $\mathcal{E} = \{x \mid (x-x_c)^\top P^{-1} (x-x_c) \le 1\}$ for $P \succ 0$.</li>
            <li><b>Polyhedron:</b> The solution set of a finite number of linear equalities and inequalities, $\mathcal{P} = \{x \mid Ax \preceq b, Cx=d\}$.</li>
            <li><b>Norm Cone:</b> Given a norm $\|\cdot\|$, the set $\{(x,t) \mid \|x\| \le t\}$. The second-order cone is a special case with the Euclidean norm.</li>
            <li><b>Positive Semidefinite Cone ($\mathbb{S}^n_+$):</b> The set of symmetric positive semidefinite matrices.</li>
        </ul>
    </section>

    <section class="card" style="margin-bottom: 32px;">
        <h2>4. Operations Preserving Convexity</h2>
        <p>Proving convexity from the definition can be tedious. It's often easier to show that a complex set is convex by constructing it from simpler convex sets using operations that are known to preserve convexity.</p>

        <h4>Intersection</h4>
        <p>The intersection of any number of convex sets is convex.
        <br><b>Proof:</b> Let $C_i$ be a collection of convex sets for $i$ in some index set $I$. Let $C = \cap_{i \in I} C_i$. Consider any two points $x, y \in C$. By definition of intersection, $x \in C_i$ and $y \in C_i$ for all $i \in I$. Since each $C_i$ is convex, the line segment $\theta x + (1-\theta)y$ for $\theta \in [0,1]$ is in $C_i$ for all $i$. Therefore, the line segment is in their intersection $C$. Thus, $C$ is convex.</p>

        <h4>Affine Functions</h4>
        <p>Applying an affine function to a convex set preserves convexity. Let $f(x) = Ax+b$ be an affine function.</p>
        <ul>
            <li><b>Image:</b> If $C$ is a convex set, then the image $f(C) = \{f(x) \mid x \in C\}$ is convex.
            <br><b>Proof:</b> Take two points $y_1, y_2 \in f(C)$. Then there exist $x_1, x_2 \in C$ such that $y_1=f(x_1)$ and $y_2=f(x_2)$. For $\theta \in [0,1]$, consider the point $\theta y_1 + (1-\theta)y_2$. We have:
            $$ \theta y_1 + (1-\theta)y_2 = \theta(Ax_1+b) + (1-\theta)(Ax_2+b) = A(\theta x_1 + (1-\theta)x_2) + b $$
            Since $C$ is convex, $\theta x_1 + (1-\theta)x_2 \in C$. Therefore, the point is of the form $f(\text{point in } C)$, so it is in $f(C)$.</li>
            <li><b>Preimage:</b> If $D$ is a convex set, then the preimage $f^{-1}(D) = \{x \mid f(x) \in D\}$ is convex.
            <br><b>Proof:</b> Take two points $x_1, x_2 \in f^{-1}(D)$. Then $f(x_1) \in D$ and $f(x_2) \in D$. Since $D$ is convex, for $\theta \in [0,1]$, the point $\theta f(x_1) + (1-\theta)f(x_2)$ is in $D$. We have:
            $$ \theta f(x_1) + (1-\theta)f(x_2) = \theta(Ax_1+b) + (1-\theta)(Ax_2+b) = f(\theta x_1 + (1-\theta)x_2) $$
            This shows that $f$ applied to the line segment is in $D$, so the line segment itself is in the preimage.</li>
        </ul>
        <p><b>Example:</b> An ellipsoid is the preimage of a Euclidean ball under an affine mapping, which proves it is convex.</p>

        <h4>Perspective and Linear-Fractional Functions</h4>
        <p>Perspective functions and linear-fractional functions also preserve convexity. These are particularly important in projective geometry and have applications in areas like computer vision.</p>
    </section>

    <section class="card" style="margin-bottom: 32px;">
        <h2>5. Separating and Supporting Hyperplanes</h2>
        <p>The <b>Separating Hyperplane Theorem</b> is a foundational result in convex geometry. It states that if $C$ and $D$ are two disjoint nonempty convex sets, there exists a hyperplane that separates them. That is, there exists a vector $a \neq 0$ and a scalar $b$ such that $a^\top x \le b$ for all $x \in C$ and $a^\top y \ge b$ for all $y \in D$.</p>

        <h5>Proof Sketch for Separating Hyperplane Theorem</h5>
        <p>While a full rigorous proof is beyond the scope of this primer, the intuition is as follows:</p>
        <ol>
            <li>Consider the set $S = C - D = \{c-d \mid c \in C, d \in D\}$. This set is convex and does not contain the origin (since $C$ and $D$ are disjoint).</li>
            <li>Find the point $p$ in the closure of $S$ that is closest to the origin. This point exists and is unique.</li>
            <li>The hyperplane with normal vector $p$ passing through the point $p/2$ will separate the sets $C$ and $D$.</li>
        </ol>

        <p>The <b>Supporting Hyperplane Theorem</b> is a closely related result. It states that for any nonempty convex set $C$ and any point $x_0$ on its boundary, there exists a supporting hyperplane to $C$ at $x_0$. That is, there is a vector $a \neq 0$ such that $a^\top x \le a^\top x_0$ for all $x \in C$.</p>
    </section>

    <section class="card" style="margin-bottom: 32px;">
        <h2>6. Dual Cones</h2>
        <p>The <b>dual cone</b> of a cone $K$ is defined as $K^* = \{y \mid y^\top x \ge 0 \text{ for all } x \in K\}$. The dual cone is always a closed, convex cone, regardless of whether $K$ is.</p>

        <h4>Self-Dual Cones</h4>
        <p>Some of the most important cones are <b>self-dual</b>, meaning $K^* = K$.</p>
        <ul>
            <li><b>The non-negative orthant $\mathbb{R}^n_+$ is self-dual.</b>
            <br><b>Proof:</b> We need to show that $y^\top x \ge 0$ for all $x \ge 0$ if and only if $y \ge 0$.
            ($\Leftarrow$) If $y \ge 0$ and $x \ge 0$, then $y^\top x = \sum_i y_i x_i$ is a sum of non-negative terms, so it is non-negative.
            ($\Rightarrow$) Suppose $y$ is not in $\mathbb{R}^n_+$. Then at least one component $y_k < 0$. We can choose a vector $x = e_k$ (the $k$-th standard basis vector), which is in $\mathbb{R}^n_+$. Then $y^\top x = y_k < 0$. This violates the condition for being in the dual cone. Therefore, $y$ must be in $\mathbb{R}^n_+$.</li>
            <li><b>The second-order cone is self-dual.</b></li>
            <li><b>The positive semidefinite cone $\mathbb{S}^n_+$ is self-dual.</b></li>
        </ul>
    </section>

    <section class="card" id="widgets" style="margin-bottom: 32px;">
      <h2>Interactive Widgets</h2>
      <p>Explore the geometry of convex sets with these interactive tools.</p>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Convex Set Detector</h3>
        <p>Users can draw a 2D shape, and the widget checks if it's convex by sampling pairs of points.</p>
        <div id="widget-convex-set-checker" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Ellipsoid Explorer & Parameterization</h3>
        <p>Visualizes a 2D ellipsoid defined by a matrix A and center x_c, allowing users to manipulate them and see the shape change.</p>
        <div id="widget-ellipsoid-explorer" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Polyhedron Visualizer & Constraint Explorer</h3>
        <p>Users can add or modify linear inequalities (Ax <= b) and see the resulting 2D polyhedron update in real-time.</p>
        <div id="widget-polyhedron-visualizer" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Separating Hyperplane Theorem Visualizer</h3>
        <p>Allows users to place two convex sets and watch the algorithm find a separating hyperplane between them.</p>
        <div id="widget-separating-hyperplane" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Operations Preserve Convexity Builder</h3>
        <p>A tool where users can apply operations (intersection, affine transformation) to pre-defined convex sets to see the result.</p>
        <div id="widget-operations-builder" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Cone Geometry & Properties</h3>
        <p>Visualizes different types of cones (norm cones, positive semidefinite cone) in 2D or 3D.</p>
        <div id="widget-cone-geometry" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>

      <div style="margin: 24px 0; padding: 16px; background: var(--panel); border: 1px solid var(--border); border-radius: 10px;">
        <h3 style="margin-top: 0;">Convex Set Operations Composer</h3>
        <p>A drag-and-drop interface for composing multiple operations on sets.</p>
        <div id="widget-operations-composer" class="widget-container" style="width: 100%; height: 400px; position: relative;"></div>
      </div>
    </section>

    <section class="card" id="readings" style="margin-bottom: 32px;">
      <h2>Readings & Resources</h2>
      <ul class="link-list">
        <li><strong>Boyd & Vandenberghe, Convex Optimization:</strong> Chapter 2</li>
      </ul>
    </section>

    <section class="card" style="margin-bottom: 32px;">
      <h2>Exercises</h2>
      <ol style="line-height: 2;">
        <li>Show that the set of points closer to a given point than a given set is convex.</li>
        <li>Prove that the intersection of a convex set and an affine set is convex.</li>
        <li>What is the dual cone of the set of all vectors with non-positive components?</li>
      </ol>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p style="margin: 0;">© <span id="year"></span> Convex Optimization Course · <a href="../../README.md" style="color: var(--brand);">About</a></p>
    </div>
  </footer>

  <script defer src="https://cdn.jsdelivr.net/pyodide/v0.26.4/full/pyodide.js"></script>

  <script src="../../static/js/math-renderer.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <!-- Widget Loaders -->
  <script type="module">
    import { initConvexSetChecker } from './widgets/js/convex-set-checker.js';
    initConvexSetChecker('widget-convex-set-checker');
  </script>
  <script type="module">
    import { initEllipsoidExplorer } from './widgets/js/ellipsoid-explorer.js';
    initEllipsoidExplorer('widget-ellipsoid-explorer');
  </script>
  <script type="module">
    import { initPolyhedronVisualizer } from './widgets/js/polyhedron-visualizer.js';
    initPolyhedronVisualizer('widget-polyhedron-visualizer');
  </script>
  <script type="module">
    import { initSeparatingHyperplane } from './widgets/js/separating-hyperplane.js';
    initSeparatingHyperplane('widget-separating-hyperplane');
  </script>
  <script type="module">
    import { initOperationsBuilder } from './widgets/js/operations-builder.js';
    initOperationsBuilder('widget-operations-builder');
  </script>
  <script type="module">
    import { initConeGeometry } from './widgets/js/cone-geometry.js';
    initConeGeometry('widget-cone-geometry');
  </script>
  <script type="module">
    import { initOperationsComposer } from './widgets/js/operations-composer.js';
    initOperationsComposer('widget-operations-composer');
  </script>
</body>
</html>
